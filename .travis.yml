language: java
install:
  - ./gradlew :pf4j-spring-boot-support:jar
  - ./gradlew :pf4j-spring-boot-start:jar
  - ./gradlew :demo-plugin-author:copyDependencies
  - ./gradlew doMigration
  - ./gradlew generatePf4jJooqSchemaSource
services:
  - postgresql
addons:
  postgresql: "9.6"
before_script:
  - psql -c 'create database "pf4j";' -U postgres
  - psql -c 'create database "pf4j-test";' -U postgres